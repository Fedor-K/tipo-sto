# TIPO-STO: Текущий статус проекта

**Дата обновления:** 2026-01-09

## Демо

**MVP работает:** http://147.45.98.69:8000/ui

## Что сделано

### Инфраструктура
- [x] Развёрнут Windows Server 2022 (147.45.98.69)
- [x] Установлен Python 3.12.4
- [x] Установлены зависимости: FastAPI, uvicorn, pywin32
- [x] Настроен Windows Firewall (порт 8000 открыт)

### MVP приложение
- [x] FastAPI бэкенд с mock данными
- [x] REST API endpoints:
  - `GET /` — статус API
  - `GET /api/clients` — список клиентов
  - `GET /api/orders` — список заказ-нарядов
  - `GET /ui` — веб-интерфейс
- [x] Простой веб-интерфейс (HTML/CSS/JS)

### 1С интеграция
- [x] Установлена 1С:Предприятие 8.3.27.1508 (учебная версия)
- [x] Загружена база данных СТО из dt-файла (~5 ГБ)
- [ ] **БЛОКЕР:** База защищена паролем, учебная версия не поддерживает пароли

## Текущие URL

| Ресурс | URL |
|--------|-----|
| API | http://147.45.98.69:8000/ |
| Веб-интерфейс | http://147.45.98.69:8000/ui |
| Клиенты (JSON) | http://147.45.98.69:8000/api/clients |
| Заказы (JSON) | http://147.45.98.69:8000/api/orders |

## Следующие шаги

1. **Получить лицензию 1С** — для доступа к базе с паролями
2. **Настроить HTTP-сервисы в 1С** — для правильной интеграции
3. **Подключить PostgreSQL** — для хранения данных CRM
4. **Расширить функционал:**
   - Формы создания клиентов/заказов
   - Календарь записи по постам
   - История обслуживания авто

## Технический стек

- **Backend:** Python 3.12 + FastAPI
- **Frontend:** Vanilla JS (пока)
- **Database:** PostgreSQL (планируется)
- **1С:** 8.3.27 + HTTP-сервисы (планируется)
- **Server:** Windows Server 2022

## Проблемы и решения

| Проблема | Статус | Решение |
|----------|--------|---------|
| Учебная 1С не поддерживает пароли | Открыта | Нужна полная лицензия 1С |
| COM-соединение недоступно | Закрыта | Будем использовать HTTP-сервисы |

## Лицензирование 1С

Для доступа к базе данных СТО требуется полная лицензия 1С:Предприятие 8.3.

### Варианты получения лицензии:

| Вариант | Цена | Ссылка |
|---------|------|--------|
| Лицензия на 1 рабочее место | ~13 200 ₽ | https://1c.ru/rus/products/1c/predpr/lic_predpr.htm |
| 1С:Автосервис (готовое решение) | ~15 000-20 000 ₽ | https://solutions.1c.ru/catalog/autoservice/features |
| Аренда лицензии | ~1 000-1 500 ₽/мес | Через партнёров 1С |

### Альтернатива:
Найти компьютер с полной версией 1С → открыть базу → убрать пароли у пользователей → после этого учебная версия сможет работать.

## Хронология работ

- **09.01.2026:** Развёртывание сервера, установка Python, FastAPI
- **09.01.2026:** Создание MVP с mock данными
- **09.01.2026:** Попытка интеграции с 1С — обнаружен блокер (пароли)
- **09.01.2026:** Загрузка базы из dt-файла успешна, но доступ заблокирован
